function SequenceFrames(t,n,e,o){function i(){var t=0;d=f.length,g=d;for(var n=function(n,o){n&&console.log(o),t++,t==d&&(loadedImages=!0,r(0),e())},o=0;d>o;o++){var i=new Image;i.onload=function(t){n(!1)},i.onerror=function(t){n(!0,t)},i.src=f[o],s[o]=i}}function r(t){if(loadedImages&&void 0!=s[t]){var n=s[t],e=p.height,o=p.width,i=a({width:n.width,height:n.height},{width:o,height:e}),r=n.height*i,c=n.width*i;m.clearRect(.5*(o-c),.5*(e-r),c,r),m.drawImage(n,.5*(o-c),.5*(e-r),c,r)}}function a(t,n){var e=n.width/t.width,o=n.height/t.height;return e>o?e:o}function c(){v++,g>=v?r(v):v=F}function u(){v--,v>=F?r(v):v=g}var h,s=new Array,f=n,p=document.getElementById(t),m=p.getContext("2d"),v=0,d=0,F=0,g=0,l=this,w=60,S="";e=e||Function,o=o||Function,this.setLoop=function(t,n){F=t,g=n},this.stop=function(){clearInterval(h)},this.play=function(){c(),l.nextFrameStop(g)},this.reverse=function(){u(),l.prevFrameStop(F)},this.next=function(){c()},this.prev=function(){u()},this.gotoAndPlay=function(t){v=t,l.stop(),h=setInterval(c,w)},this.gotoAndStop=function(t){r(t),clearInterval(h),v=t},this.nextFrame=function(){c(),h=setTimeout(function(){l.nextFrame()},w)},this.prevFrame=function(){u(),h=setTimeout(function(){l.prevFrame()},w)},this.currentFrame=function(){return v},this.nextFrameStop=function(t,n){var e=t,n=n||Function;""!=S&&l.stop(),e!=v?(S="nextFrameStop",l.next(),h=setTimeout(function(){l.nextFrameStop(e,n)},w)):(l.stop(),S="",n())},this.prevFrameStop=function(t,n){var e=t,n=n||Function;""!=S&&l.stop(),e!=v?(S="prevFrameStop",l.prev(),h=setTimeout(function(){l.prevFrameStop(e,n)},w)):(l.stop(),S="",n())},this.setInterval=function(t){w=t},i()}